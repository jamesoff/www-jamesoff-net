---
layout: post
status: publish
published: true
title: Alfred script to change network location in OS X
author:
  display_name: jamesoff
  login: jamesoff
  email: james@jamesoff.net
  url: http://jamesoff.net
author_login: jamesoff
author_email: james@jamesoff.net
author_url: http://jamesoff.net
wordpress_id: 434
wordpress_url: http://jamesoff.net/site/?p=434
date: '2011-06-09 18:43:32 -0400'
date_gmt: '2011-06-09 18:43:32 -0400'
categories:
- Coding
- Mac OS X
tags:
- alfred
- script
- useful
comments:
- id: 79580
  author: 'Alfred Extensions: The best scripts (so far!) &laquo; Alfred App &#8211;
    Mac OS X Quicklaunch Application'
  author_email: ''
  author_url: http://blog.alfredapp.com/2011/08/02/alfred-extensions/
  date: '2011-08-02 14:51:50 -0400'
  date_gmt: '2011-08-02 14:51:50 -0400'
  content: |
    <p>[...] Changing network location http:&#47;&#47;jamesoff.net&#47;site&#47;2011&#47;06&#47;09&#47;alfred-script-to-change-network-location-in-os-x&#47; [...]<&#47;p>
- id: 80172
  author: Lucifr
  author_email: i@lucifr.com
  author_url: http://lucifr.com
  date: '2011-08-24 19:02:32 -0400'
  date_gmt: '2011-08-24 19:02:32 -0400'
  content: |
    <p>Works like a magic! Thx a lot!<&#47;p>

    <p>Would you update it for the latest version of Alfred, plz? It supports growl output now.<&#47;p>
- id: 80183
  author: jamesoff
  author_email: james@jamesoff.net
  author_url: http://jamesoff.net
  date: '2011-08-25 08:16:56 -0400'
  date_gmt: '2011-08-25 08:16:56 -0400'
  content: |
    <p>Lucifr: As per the line at the top of the post, please see my <a href="&#47;site&#47;alfred-extensions&#47;" rel="nofollow">Alfred Extensions<&#47;a> page. All the versions posted on there are updated to use the new format and features :)<&#47;p>
- id: 80194
  author: Lucifr
  author_email: i@lucifr.com
  author_url: http://lucifr.com
  date: '2011-08-25 13:07:09 -0400'
  date_gmt: '2011-08-25 13:07:09 -0400'
  content: |
    <p>jamesoff: Thank you~<&#47;p>
- id: 84662
  author: 5 Awesome Things You Can Do With Alfred On Your Mac |
  author_email: ''
  author_url: http://blog.angadgupta.com/?p=3135
  date: '2011-12-04 20:28:21 -0500'
  date_gmt: '2011-12-04 20:28:21 -0500'
  content: |
    <p>[...] displays it via a Growl notification.&Acirc;&nbsp;There&#8217;s also an extension for flushing your DNS cache, changing your Airport network location, and a way to get your network connection speed with [...]<&#47;p>
- id: 84665
  author: 5 Awesome Things You Can Do With Alfred On Your Mac | Apple Stocks
  author_email: ''
  author_url: http://www.applestocks.net/5-awesome-things-you-can-do-with-alfred-on-your-mac/
  date: '2011-12-04 20:44:39 -0500'
  date_gmt: '2011-12-04 20:44:39 -0500'
  content: |
    <p>[...] and displays it via a Growl notification.&Acirc;&nbsp;There&acirc;&euro;&trade;s also an extension for flushing your DNS cache, changing your Airport network location, and a way to get your network connection speed with [...]<&#47;p>
- id: 85375
  author: 5 Awesome Things You Can Do With Alfred On Your Mac
  author_email: ''
  author_url: http://macbooks.pro/2011/12/04/5-awesome-things-you-can-do-with-alfred-on-your-mac/
  date: '2011-12-17 03:51:46 -0500'
  date_gmt: '2011-12-17 03:51:46 -0500'
  content: |
    <p>[...] displays it via a Growl notification.&Acirc;&nbsp;There&rsquo;s also an extension for flushing your DNS cache, changing your Airport network location, and a way to get your network connection speed with [...]<&#47;p>
- id: 91707
  author: Bill
  author_email: ztrident@me.com
  author_url: ''
  date: '2012-03-10 18:31:05 -0500'
  date_gmt: '2012-03-10 18:31:05 -0500'
  content: |
    <p>HI James,
    In which place should I paste unzipped plist files? Library&#47;Preferences&#47;  or?
    Thanks beforehand
    Alfred 1.1
    Mac OS X (10.7.3)<&#47;p>
- id: 91744
  author: jamesoff
  author_email: james@jamesoff.net
  author_url: http://jamesoff.net
  date: '2012-03-11 11:45:11 -0400'
  date_gmt: '2012-03-11 11:45:11 -0400'
  content: |
    <p>Hi Bill, you should drag and drop the ZIP file into the Extensions window in Alfred - there's a thing in the corner which says where to drop to install. No need to extract the files or move them manually :)<&#47;p>
- id: 93310
  author: clay
  author_email: clayc54@gmail.com
  author_url: ''
  date: '2012-04-12 13:44:37 -0400'
  date_gmt: '2012-04-12 13:44:37 -0400'
  content: |
    <p>great script.  very handy. use this everyday. cheers<&#47;p>
- id: 96612
  author: Charlie
  author_email: charlie@mowd.nl
  author_url: ''
  date: '2012-06-20 06:40:29 -0400'
  date_gmt: '2012-06-20 06:40:29 -0400'
  content: |
    <p>Thanks Bill! I use it every day.<&#47;p>

    <p>btw What nice message bubble of growl you have there. Which one is it?<&#47;p>
- id: 96622
  author: jamesoff
  author_email: james@jamesoff.net
  author_url: http://jamesoff.net
  date: '2012-06-20 11:01:01 -0400'
  date_gmt: '2012-06-20 11:01:01 -0400'
  content: |
    <p>My Growl theme is a slightly modified SmokeStack. I can't remember where I got it, but I uploaded it here for you: http:&#47;&#47;cl.ly&#47;1P2A341t1509202m1X0S<&#47;p>
- id: 112159
  author: "&aelig;&bull;&trade;&ccedil;&uml;&lsaquo;&iuml;&frac14;&scaron;Mac &ccedil;&scaron;&bdquo;&aring;&curren;&ndash;&aelig;&OElig;&sbquo;&aring;&Scaron;&nbsp;&eacute;&euro;&Yuml;&atilde;&euro;&OElig;&aring;&frac14;&bull;&aelig;&ldquo;Å½&atilde;&euro;\x8D
    Alfred | &ccedil;&OElig;&ordf;&aring;&ldquo;&yen;&eacute;\x9D&ldquo;"
  author_email: ''
  author_url: http://www.zhu.cm/tutorial-mac-plug-acceleration-engine-alfred.html
  date: '2013-03-03 05:47:04 -0500'
  date_gmt: '2013-03-03 05:47:04 -0500'
  content: "<p>[...] &aring;&iquest;&laquo;&eacute;&euro;&Yuml;&aring;&circ;&Dagger;&aelig;\x8D&cent;&ccedil;&frac12;&lsquo;&ccedil;&raquo;&oelig;&auml;&frac12;\x8D&ccedil;&frac12;&reg;&iuml;&frac14;&OElig;Alfred
    script | change network location in OS X [...]<&#47;p>\n"
---
<p><b>Please see my <a href="http:&#47;&#47;jamesoff.net&#47;site&#47;alfred-extensions&#47;">Alfred Extensions<&#47;a> page for updates!<&#47;b></p>
<p>I wrote this little scriptlet to change network location in OS X using <a href="http:&#47;&#47;alfredapp.com">Alfred<&#47;a>, but you could trigger it using whatever method you wanted.</p>
<p>If you're using Alfred 0.9.9 or later, you should be able to download <a href="http:&#47;&#47;cl.ly&#47;2t1O2G16341p2E1z3407">this ZIP file<&#47;a> and import it!</p>
<p>if you using an earlier version, follow the instructions below:</p>
<p><strike>
<pre lang="bash">&#47;usr&#47;sbin&#47;scselect 2>&1 | &#47;usr&#47;bin&#47;grep -i {query} | &#47;usr&#47;bin&#47;cut -c 4-39 | &#47;usr&#47;bin&#47;xargs &#47;usr&#47;sbin&#47;scselect<&#47;pre><&#47;strike></p>
<p><b>UPDATE<&#47;b> 2011-06-11: I have significantly improved the script to work around a bug caused by the 3Connect profile (3Connect is pants FYI), as well as use `growlnotify` to tell you if the change worked or not. It also allows substring matches (anchored at the start) so you can use "auto" for "Automatic". If you have more than one profile that starts with a matching substring, the behaviour is currently undefined.</p>
<p><a href="http:&#47;&#47;jamesoff.net&#47;site&#47;wp-content&#47;uploads&#47;2011&#47;06&#47;Screen-shot-2011-06-11-at-19.02.40.png"><img src="http:&#47;&#47;jamesoff.net&#47;site&#47;wp-content&#47;uploads&#47;2011&#47;06&#47;Screen-shot-2011-06-11-at-19.02.40.png" alt="Growl showing network change notification" title="Screen shot 2011-06-11 at 19.02.40" width="322" height="100" class="alignnone size-full wp-image-441" &#47;><&#47;a></p>
<pre lang="bash">MSG=`&#47;usr&#47;sbin&#47;scselect 2>&1 | &#47;usr&#47;bin&#47;egrep -i "\({query}" | &#47;usr&#47;bin&#47;cut -c 4- | &#47;usr&#47;bin&#47;cut -f 1 | &#47;usr&#47;bin&#47;head -n 1 | &#47;usr&#47;bin&#47;xargs &#47;usr&#47;sbin&#47;scselect | &#47;usr&#47;bin&#47;sed -E 's&#47;.+ \((.+)\)&#47;Location changed to \1&#47;'`; if [ "$MSG" = "" ]; then &#47;usr&#47;local&#47;bin&#47;growlnotify -a &#47;System&#47;Library&#47;PreferencePanes&#47;Network.prefPane -m "Unable to change location" Error; else &#47;usr&#47;local&#47;bin&#47;growlnotify -a &#47;System&#47;Library&#47;PreferencePanes&#47;Network.prefPane -m "$MSG" Location changed; fi;<&#47;pre></p>
<p>If you want it without Growl notifications, use this version:</p>
<pre lang="bash">usr&#47;sbin&#47;scselect 2>&1 | &#47;usr&#47;bin&#47;egrep -i "\({query}" | &#47;usr&#47;bin&#47;cut -c 4- | &#47;usr&#47;bin&#47;cut -f 1 | &#47;usr&#47;bin&#47;head -n 1 | &#47;usr&#47;bin&#47;xargs &#47;usr&#47;sbin&#47;scselect<&#47;pre></p>
<p>It's slightly convoluted as it's case-insensitive. To use it, create a Terminal&#47;Shell script entry like this:</p>
<p><img src="http:&#47;&#47;f.cl.ly&#47;items&#47;3t0B301j3Q2X102y1C0V&#47;Screen%20shot%202011-06-09%20at%2020.38.05.png" alt="Alfred settings" &#47;></p>
<p>Now you can just type "location work" or similar into Alfred to change network location. I'll add Growl-confirmation support when the next version of Alfred is released :)</p>
