<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>SimpleMonitor &#8211; jamesoff.net</title>
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.">
<meta name="keywords" content="">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/">
<meta name="twitter:title" content="SimpleMonitor">
<meta name="twitter:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.">
<meta name="twitter:creator" content="@jamesoff">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="SimpleMonitor">
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.">
<meta property="og:url" content="/code/simplemonitor/">
<meta property="og:site_name" content="jamesoff.net">





<link rel="canonical" href="/code/simplemonitor/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="jamesoff.net Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="page" >

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="/">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="/images/avatar.jpg" alt="James Seward photo" class="author-photo">
					<h4>James Seward</h4>
					<p>A generally awesome guy</p>
				</li>
				<li><a href="/about/"><span class="btn btn-inverse">Learn More</span></a></li>
				<li>
					<a href="mailto:james@jamesoff.net"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/jamesoff"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				<li>
					<a href="http://facebook.com/jms.off"><i class="fa fa-fw fa-facebook"></i> Facebook</a>
				</li>
				
				
				<li>
					<a href="http://github.com/jamesoff"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="/posts/">All Posts</a></li>
				<li><a href="/tags/">All Tags</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->




<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        <h1 class="entry-title">SimpleMonitor</h1>
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <p>SimpleMonitor is a [Python](http:&#47;&#47;www.python.org) script which monitors hosts and network connectivity. It is designed to be quick and easy to set up and lacks complex features that can make things like Nagios, OpenNMS and Zenoss overkill for a small business or home network. Remote monitor instances can send their results back to a central location.</p>
<p>SimpleMonitor supports:</p>
<p> * Ping monitoring (is a host pingable?)<br />
 * TCP monitoring (is a host listening on a TCP port?)<br />
 * Service monitoring (is a Windows service running?)<br />
 * 'rc' monitoring (is a FreeBSD service running?) This monitor can probably be used for non-FreeBSD rc scripts, but I haven't tested it.<br />
 * Disk space monitoring<br />
 * daemontools service monitoring<br />
 * HTTP monitoring (is a URL fetchable without error? Optionally, does the page content it match a regular expression?)<br />
 * APC UPS monitoring (requires apcupsd to be installed and configured)</p>
<p>Adding more monitor types is quite simple if you are able to code in Python.</p>
<p>Logging and alerting options are:</p>
<p> * Writing the state of each monitor at each iteration to a SQLite database (i.e. a history of results)<br />
 * Maintaining a snapshot of the current state of the monitors in a SQLite database<br />
 * Sending an email alert when a monitor fails, and when it recovers<br />
 * Writing a log file of all successes and failures, or just failures<br />
 * Sending a text message via BulkSMS (subscription required)<br />
 * Writing an HTML status page.<br />
 * Writing an entry to the syslog (non-Windows only)</p>
<p>Again, adding more logging&#47;alerting methods is simply a case of writing some Python.</p>
<p>SimpleMonitor also features:</p>
<p> * *Simple configuration file format*: it's a standard INI file for the overall configuration and another for the monitor definitions<br />
 * *Dependencies*: Monitors can be declared as depending on the success of others. If a monitor fails, its dependencies will be skipped until it succeeds.<br />
 * *Tolerance*: Monitors checking things the other side of unreliable links or which have many transient failures can be configured to require their test to fail a number of times in a row before they report a problem.<br />
 * *Escalation* of alerts: Alerters can be configured to require a monitor to fail a number of times in a row (after its tolerance limit) before they fire, so alerts can be sent to additional addresses or people.<br />
 * *Urgency*: Monitors can be defined as non-urgent so that urgent alerting methods (like SMS) are not wasted on them.<br />
 * *Per-host monitors*: Define a monitor which should only run on a particular host and all other hosts will ignore it - so you can share one configuration file between all your hosts.<br />
 * *Monitor gaps*: By default every monitor polls every interval (e.g. 60 seconds). Monitors can be given a gap between polls so that they only poll once a day (for example).<br />
 * *Alert periods*: Alerters can be configured to only alert during certain times and&#47;or on certain days...<br />
 * *Alert catchup*: ...and also to alert you to a monitor which failed when they were unable to tell you. (For example, I don't want to be woken up overnight by an SMS, but if something's still broken I'd like an SMS at 7am as I'm getting up.)<br />
 * *Remote monitors*: An instance running on a remote machine can send its results back to a central instance for logging and alerting.</p>
<p>Getting started<br />
--</p>
<p> * Download the code: <a href="http:&#47;&#47;jamesoff.net&#47;site&#47;wp-content&#47;uploads&#47;2008&#47;03&#47;simplemonitor-14tar.bz2" title="Simple Monitor v.14">Simple Monitor v1.4&lt;&#47;a&gt;<br />
 * Write your [configuration files](.&#47;configuration)<br />
 * Run the code
<p>Running SimpleMonitor<br />
--</p>
<p> * `python monitor.py`</p>
<p>That was easy.</p>
<p>If you want to hide all output except errors, use the `-q` option. If you want more verbose blah about what's happening, use `-v`.</p>
<p>On non-Windows, SimpleMonitor runs very nicely under [daemontools](http:&#47;&#47;cr.yp.to&#47;daemontools.html). You just need a `run` file a bit like this:</p>
<pre lang="bash">
#!&#47;bin&#47;sh
<p>cd &#47;usr&#47;local&#47;monitor &amp;&amp; exec &#47;usr&#47;local&#47;bin&#47;python monitor.py -q<br />
&lt;&#47;pre&gt;</p>
<p>On Windows hosts, you'll have to leave it running in a Command Prompt for now; I haven't gotten round to making it run as a service.</p>
<p>For help on (the scarce) command line options, run `python monitor.py -h`.</p>
<p>Licence<br />
--</p>
<p>SimpleMonitor is released under the BSD licence.</p>
<p>History<br />
--</p>
<p>See the [changelog](.&#47;history).</p>
<p>Future<br />
--</p>
<p>I have a <a href=".&#47;planned-features">TODO&lt;&#47;a&gt; list.
</a></p></pre></a></p>

      <footer class="entry-meta">
        
        <div class="social-share">
  <ul class="socialcount socialcount-small inline-list">
    <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=/code/simplemonitor/" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Like</span></a></li>
    <li class="twitter"><a href="https://twitter.com/intent/tweet?text=/code/simplemonitor/" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a></li>
    <li class="googleplus"><a href="https://plus.google.com/share?url=/code/simplemonitor/" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a></li>
  </ul>
</div><!-- /.social-share -->
      </footer>
    </div><!-- /.entry-content -->
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2015 James Seward. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/" rel="notfollow">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>



          

</body>
</html>
