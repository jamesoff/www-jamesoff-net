<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Defining alerters &#8211; jamesoff.net</title>
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.">
<meta name="keywords" content="">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/">
<meta name="twitter:title" content="Defining alerters">
<meta name="twitter:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.">
<meta name="twitter:creator" content="@jamesoff">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Defining alerters">
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.">
<meta property="og:url" content="/code/simplemonitor/configuration/defining-alerters/">
<meta property="og:site_name" content="jamesoff.net">





<link rel="canonical" href="/code/simplemonitor/configuration/defining-alerters/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="jamesoff.net Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="page" >

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="/">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="/images/avatar.jpg" alt="James Seward photo" class="author-photo">
					<h4>James Seward</h4>
					<p>A generally awesome guy</p>
				</li>
				<li><a href="/about/"><span class="btn btn-inverse">Learn More</span></a></li>
				<li>
					<a href="mailto:james@jamesoff.net"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/jamesoff"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				<li>
					<a href="http://facebook.com/jms.off"><i class="fa fa-fw fa-facebook"></i> Facebook</a>
				</li>
				
				
				<li>
					<a href="http://github.com/jamesoff"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="/posts/">All Posts</a></li>
				<li><a href="/tags/">All Tags</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->




<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        <h1 class="entry-title">Defining alerters</h1>
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <p>Alerters send one-off alerts when a monitor fails. They can also send an alert when it succeeds again.</p>
<p>An alerter knows if it is urgent or not; If a monitor defined as non-urgent fails, an urgent alerter will not trigger for it. This means you can avoid receiving SMS alerts for things which don't require your immediate attention.</p>
<p>The types of alerter are:</p>
<p> * *email*: Sends an email when a monitor fails. Sends an email when it succeeds again. Requires an SMTP server to talk to. Non-urgent (all monitors will trigger this alerter.)<br />
 * *bulksms*: Sends an SMS alert when a monitor fails. Does not send an alert for when it succeeds again. Uses the [BulkSMS](http:&#47;&#47;www.bulksms.co.uk) service, which requires subscription. The messages are sent over HTTP on port 5567. (Urgent, so `urgent=0` monitors will not trigger an SMS.)<br />
 * *syslog*: Writes an entry to the syslog when something fails or succeeds. Not supported on Windows.</p>
<p>Defining an alerter<br />
---</p>
<p>The section name should be the name of your alerter. This is the name you should give in the "alerters" setting in the reporting section of the main configuration. All alerters share these settings:</p>
<p> * **type** is the type of alerter. You can choose from `email` to send mail, or `bulksms` to send SMS alerts using the BulkSMS service, or `syslog` for the syslog alerter. Required; no default.<br />
 * **depend** is a list of monitors this alerter depends on. If any of them fail, no attempt will be made to send the alert. (For example, there's no point trying to send an email alert to an external address if your route(s) to the Internet are down.) Optional; no default.<br />
 * **limit** is the number of times a monitor must fail before this alerter will fire. This number uses the virtual fail count, so if a monitor has a tolerance of 3 and an alerter has a limit of 2, the monitor must fail 5 times before an alert is sent. You can use this to escalate an alert to another email address if the problem is ongoing for too long, for example. Optional; default=1.<br />
 * **dry_run** will make an alerter do everything except actually send the message. Instead it will print some information about what it would do. Use when you want to test your configuration without generating emails&#47;SMSes. Set to 1 to enable. Optional; default=0.</p>
<p>#### Time periods<br />
All alerters accept time period configuration. By default, an alerter is active at all times, so you will always immediately receive an alert at the point where a monitor has failed enough (more times than the limit). To set limits on when an alerter can send:</p>
<p> * **day**: Which days an alerter can operate on. This is a comma-separated list of integers. 0 is Monday and 6 is Sunday. Optional, default is all days.<br />
 * **times_type**: Set to one of `always`, `only`, or `not`. "Only" means that the limits define the period that an alerter can operate. "Not" means that the limits define the period during which it will not operate. Optional, default: always.<br />
 * **time_lower** and **time_upper**: If `times_type` is `only` or `not`, these two settings define the time limits. `time_lower` must always be the lower time. The time format is `hh:mm` using 24-hour clock. Both are required if `times_type` is anything other than `always`.<br />
 * **delay**: If any kind of time&#47;day restriction applies, the alerter will notify you of any monitors that failed while they were unable to alert you and are still failed. If a monitor fails and recovers during the restricted period, no catch-up alert is generated. Set to 1 to enable. Optional, default=0.</p>
<p>Here's a quick example of setting time periods:</p>
<p>**Don't send me SMSes while I'm in the office** (8:30am to 5:30pm Mon-Fri):</p>
<pre lang="ini">
[out_of_hours]<br />
type=bulksms<br />
...<br />
times_type=not<br />
time_lower=08:30<br />
time_upper=17:30<br />
days=0,1,2,3,4<br />
&lt;&#47;pre&gt;
<p>**Don't send me SMSes at antisocial times, but let me know later if anything broke and didn't recover:**</p>
<pre lang="ini">
[nice_alerter]<br />
type=bulksms<br />
...<br />
times_type=only<br />
time_lower=07:30<br />
time_upper=22:00<br />
delay=1<br />
&lt;&#47;pre&gt;
<p>### Email alerters</p>
<p> * **host** is the email server to send the message to (via SMTP). Required; no default.<br />
 * **from** is the email address the email should come from. Required; no default.<br />
 * **to** is the email address to email should go to. Required; no default.</p>
<p>### BulkSMS alerters</p>
<p> * **sender** is who the SMS should appear to be from. Max 11 chars. Try to avoid non alphanumeric characters. Optional; default=SmplMntr.<br />
 * **username** is your BulkSMS username. Required; no default.<br />
 * **password** is your BulkSMS password. Required; no default.<br />
 * **target** is the number to send the SMS to. Prefix the country code but drop the +. UK example: 447777123456. Required; no default.</p>
<p>### Syslog alerters<br />
Syslog alerters have no additional options.</p>
<p>## Example</p>
<p>See the <a href="..">Configuration&lt;&#47;a&gt; page for an example configuration.
</a></p></pre></pre>

      <footer class="entry-meta">
        
        <div class="social-share">
  <ul class="socialcount socialcount-small inline-list">
    <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=/code/simplemonitor/configuration/defining-alerters/" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Like</span></a></li>
    <li class="twitter"><a href="https://twitter.com/intent/tweet?text=/code/simplemonitor/configuration/defining-alerters/" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a></li>
    <li class="googleplus"><a href="https://plus.google.com/share?url=/code/simplemonitor/configuration/defining-alerters/" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a></li>
  </ul>
</div><!-- /.social-share -->
      </footer>
    </div><!-- /.entry-content -->
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2015 James Seward. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/" rel="notfollow">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>



          

</body>
</html>
