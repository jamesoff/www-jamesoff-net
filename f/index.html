<html>
<head>
  <title>taunt</title>
  <style type="text/css">
	  body {
		  background-color: black;
		  font-family: Arial;
	  }

	  td {
		  text-align: center;
		  vertical-align: middle;
	  }

	  #taunt {
		  font-size: 150pt;
		  font-weight: bold;
		  color: white;
	  }

	  #failcount, #gear {
		  color: #888;
	  }
  </style>
</head>

<body>
<table width="100%" height="100%">
<tr><td>
		<div id="taunt">TAUNT</div>
<br />
<div id="failcount">&nbsp;</div>
<div id="gear">Please get it in gear at your earliest convenience.</div>
</td></tr>
</table>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script type="text/javascript">// <![CDATA[

    function fetchFails() {
        var api_url = "https://idz7b48rc7.execute-api.eu-west-1.amazonaws.com/prod/fails";
        $.getJSON(api_url, function(data) {
        	update(data);
		}
        );
    }

	function update(data) {
		if (data.ok) {
			var s = data.n.toString();
			var ending;
			switch (s[s.length-1]) {
				case '1':
					ending = 'st';
					if (s.length > 1) {
						if (s[s.length-2] == '1') {
							ending = 'th';
						}
					}
					break;
				case '2':
					ending = 'nd';
					if (s.length > 1) {
						if (s[s.length-2] == '1') {
							ending = 'th';
						}
					}
					break;
				case '3':
					ending = 'rd';
					if (s.length > 1) {
						if (s[s.length-2] == '1') {
							ending = 'th';
						}
					}
					break;
				default:
					ending = 'th';
			}

			$("div#failcount").html("You are the " + data.n + ending + " person to be directed to this page.");
		}
	}

	$(window).load(fetchFails());
//]]</script>
</body>
</html>
